<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script>
            function Card (v , suit){
                this.value=v;
                this.rank;
                
                
                switch (suit){
                    
                case 'd':
			this.rank=1;
			break;
		case 'c':
			this.rank=2;
			break;
		case 'h':
			this.rank=3;
			break;
		case 's':
			this.rank=4;
			break;
                    
                    
                    
                    
                }
                
               
                
                
                
            }
            function Combo(cardslist){
                this.cards=cardslist.sort(compare);
                this.kicker; // distinguish winner when combos have same value;
                this.value;
                this.level;
      
                if(cards.length ==2 ){
                    
                    if(cards[cards.length-1].value == cards[0].value){
                        console.log("is a pair");
                        this.value=cards[0].value;
                        console.log(this.value);
                    }
                    // Check for pair 
                    
                }
                else if( cards.length==3){
                    //check for triples
                    var count=0;
                    for( var i =0; i<cards.length;i++){
                        if(cards[i].value!=cards[0].value){
                            console.log("not a valid combo");
                            this.value=0;
                            continue;
                        }
                        count++;
                        
                    }
                    if(count==3){
                    this.value=cards[0].value;
                    console.log("is a triple");
                    console.log(this.value);}
                    
                }else if (cards.length==5){
                   // lots of different combos here 
                   
                   
                   var straight =checkStraight(this.cards);
                   var flush = checkFlush(this.cards);
                  // var house = checkHouse(cards);
                  // var 4Okind = checkFourOfAKind(cards);
                   if(flush * straight>0){this.value=flush*straight;this.level=5; console.log(this.level);}
                   else if(straight>0){this.value=straight;this.level=1; console.log(this.level);}
                   else if(flush>0){this.value=flush;this.level=2;console.log(this.level);}
                   
                  // else if(house>0){this.value=type*flush;}
                  // else if(40kind>0){this.value=type*flush;}
                 //  
                   
                   
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                }
                else{
                    console.log("invalid combo");
                    this.value=0;
                }
                
                function checkStraight(Cards){
                    // Aces and 2's cant be the last card
                    
                    if (Cards[Cards.length-1].value == 100 || Cards[Cards.length-1].value == 90){
                        
                        console.log("Cant not include Ace 's and 2 's in straights");
                        return 0;
                    }
                        
                    else if (Cards[0].value == 2 || Cards[0].value == 1){
                        console.log("Cant have Aces and 2's in staights");
                        return 0;
                        
                        
                        
                    }else{
                        
                        var lastval = Cards[0].value;
                       
                        for(var i = 1; i < Cards.length-1; i++){
                           // console.log(Cards.length);
                            //console.log(i);
                            var temp = Cards[i].value;
                            if(temp==lastval+1){
                                
                                lastval=temp;
                                
                            }
                            else{return 0;}
                            
                        }
                        console.log(Cards[Cards.length-1].value);
                        console.log("its a straight");
                        this.kicker=Cards[Cards.length-1].rank;
                        console.log(this.kicker);
                        return Cards[Cards.length-1].value;
                        
                        
                        
                        
                        
                    }
                    
                    
                    
                }
                
                
                function checkFlush(Cards){
                    var suit = Cards[0].rank;
                    for(var i = 0;i <Cards.length;i++){
                        if(Cards[i].rank!=suit){
                            return false;
                        }
                        
                        
                    }
                    console.log("its a flush");
                    this.kicker=Cards[Cards.length-1].value;
                    return suit;
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                }
                
                this.Compare = function(A,B){
                 
                    if(A.level > B.level){
                        return true;
                    }else if (A.level==B.level){
                        
                        
                        if(A.value>B.value){return true;}
                        else if(A.value==B.value){
                            
                            console.log("compare suits");
                            console.log(B.kicker);
                            console.log(A.kicker);
                            return true;
                            
                            
                            
                        }else{return false;}
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                    }else{
                        return false;
                    }
                    
                    
                }
                
    }           
            
            
            
            
            
            
            
            
            
            
             function compare(A,B){
                    if(A.value > B.value){
                        return 1;
                        
                        
                        
                    }else if (A.value == B.value){
                        
                        if( A.rank > B.rank){return 1;}
                        
                        else{
                            return -1;
                        }
                        
                        
                        
                        
                    }
                    
                    
                    
                    
                    
                }
                
                
             
            var cards = [];
            cards.push(new Card(4,'s'));
            cards.push(new Card(5,'d'));
            cards.push(new Card(6,'h'));
            cards.push(new Card(7,'c'));
            cards.push(new Card(8,'d'));
            
            
            
            
            cards.sort(compare);
            
            console.log(cards);
            var combo = new Combo(cards);
            
            
            var cards2=[];
            cards2.push(new Card(4,'s'));
            cards2.push(new Card(5,'c'));
            cards2.push(new Card(6,'h'));
            cards2.push(new Card(7,'d'));
            cards2.push(new Card(8,'s'));
            
            cards2.sort(compare);
            console.log(cards2);
            var c = new Combo(cards2);
           
            
            
            if(c.Compare(c,combo)){
                console.log("combo2 wins");
                
            }else{
                console.log("combo1 wins");
            }
            
            
            
        </script>
        <div>TODO write content</div>
    </body>
</html>
